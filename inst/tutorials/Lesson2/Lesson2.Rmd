---
title: "Chapter 3 - Other R Objects: Matrix & Dataframe"
author: "**Yigit Aydede - RBootcamp - 2022**"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(nycflights13)
library(Lahman)
library(RBootcamp)
tutorial_options(
  exercise.timelimit = 600,
  # A simple checker function that just returns the message in the check chunk
  exercise.checker = function(check_code, ...) {
    list(
      message = eval(parse(text = check_code)),
      correct = logical(0),
      type = "info",
      location = "append"
    )
  }
)
knitr::opts_chunk$set(error = TRUE)
```


## Creating a matrix

R stores matrices (and arrays) in a similar way as vectors, but with the attribute called dimension. A matrix is an array that has two dimensions. Data in a matrix are organized into rows and columns. 

1. Create 3 vectors each has 5 numbers randomly selected from 1, 2,. . . ,10.  Name each vector properly
2. Create row matrix from these 3 vectors, called it `A`
3. Create column matrix from these 3 vectors, called it `B`
4. Calculate means of each row and column of `A`.  Assign them a vector, respectively.
5. Assign `V1, V2, ...` to `B` as column names, check it    

```{r m1, exercise=TRUE}

```

## Subsetting matrix

1. Create a 5x5 matrix, `X` sampled from 1:10 with replacement (`set.seed(50)`)
2. Create another matrix from `X` by selecting the 2nd and the 5th rows.  Check it
3. What are the numbers in row 2 and columns 3 and 5

```{r m3, exercise=TRUE}

```

1. What are the numbers in a row when the number in column 3 is 1?
2. Change 10's to 0's
3. Change 0's in the 5th column to 11

```{r m4-setup}
set.seed(50)
X <- matrix(sample(1:10, 25, replace = T), 5,5)
```

```{r m4, exercise=TRUE}

```

1. Find the index (row, column) where 1 is located in `X`.  Hint use `which()`
2. Multiply it with 0.5

```{r m5-setup}
set.seed(50)
X <- matrix(sample(1:10, 25, replace = T), 5,5)
```

```{r m5, exercise=TRUE}

```

Create a 6 Ã— 10 matrix of random integers chosen from 1, 2,. . . ,10 with replacement.  Call it `aMat` (with `set.seed(75)`)
  
1. Find the number of entries in each row which are greater than 4. You can use `apply()` function. 
2. Which rows contain exactly two occurrences of 7? 

```{r m6, exercise=TRUE}

```

## Dataframes

Dataframes are the most common way to store and interact with data. Data sets for statistical analysis are typically stored in dataframes in R. Unlike a matrix, a data frame can have different data types for each elements (columns).  We will use `whale` in your `RBootcamp`.  To see the description of the data call `?whale` in the console.

Use `str()`, `dim()`, `head()`, and `summary()` functions to examine the data

```{r m7, exercise=TRUE}

```

Extract all the elements of the first 8 rows and the last 4 columns of the `whale` dataframe 

```{r m8, exercise=TRUE}

```

Extract rows 9, 11, 25 and all columns except the last column. 

```{r m9, exercise=TRUE}

```

Now, we will extract data based on the following criteria:

1. at `depth` less than 1000m
2. `gradient` steeper than 150 degrees
3. all the observations less than the mean `depth`
3. `water.noise` level of 'low'
4. `water.noise` level of 'high' in the month of 'May'
5. `month` of 'October', `water.noise` level of 'low' and `gradient` greater than the median value. Hint use `median`()`
6. all observations from between `latitude`s 60.0 and 61.0 and `longitude`s -6.0 and -4.0
7. all rows that do not have a `water.noise` level of 'medium'

```{r m10, exercise=TRUE}

```

There are of course many other approaches. One such approach is to use the `subset()` function (see `?subset`)..  Here is an example for #5 given above:

```{r m11, exercise=TRUE}
subset(whale, month == "October" & water.noise == "low" & gradient > median(gradient))
```

Use `subset()` to extract data collected in 'October' from `latitude`s greater than 61 degrees but only include the columns `month`, `latitude`, `longitude` and `number.whales`.

```{r m12, exercise=TRUE}

```

This is enough for now.  We will see more applications on data frames in Chapters 6 and 7.  

